---
title: "프록시와 리버스 프록시"
date: 2025-09-19T00:00:00
toc: true
toc_sticky: true
categories:
    - DevOps 
tags:
    - Architecture
---

# 프록시와 리버스 프록시 패턴

## 프록시 패턴 개념

프록시 패턴은 다른 객체에 대한 접근을 제어하는 대리자 역할을 하는 디자인 패턴이다. 실제 객체와 클라이언트 사이에 중간 계층을 두어 접근 제어, 캐싱, 로깅 등의 부가 기능을 제공한다.

### 핵심 구성 요소

- **Subject**: 실제 객체와 프록시가 공통으로 구현하는 인터페이스
- **RealSubject**: 실제 작업을 수행하는 객체
- **Proxy**: 실제 객체에 대한 참조를 가지고 접근을 제어하는 대리자

### 주요 특징

- 클라이언트는 프록시를 통해서만 실제 객체에 접근
- 투명성: 클라이언트는 프록시와 실제 객체를 구분하지 못함
- 지연 초기화, 접근 제어, 캐싱 등의 기능 제공

## 네트워크 프록시

### Forward Proxy (일반 프록시)

클라이언트와 서버 사이에서 클라이언트를 대신하여 요청을 전달하는 서버다.

### 동작 원리

- 클라이언트가 프록시 서버에 요청을 보냄
- 프록시가 클라이언트를 대신하여 목적지 서버로 요청 전달
- 서버의 응답을 클라이언트에게 다시 전달

### 주요 용도

- 익명성 보장 및 IP 주소 숨김
- 캐싱을 통한 성능 향상
- 접근 제한 및 콘텐츠 필터링
- 대역폭 절약

### Reverse Proxy

서버와 클라이언트 사이에서 서버를 대신하여 클라이언트의 요청을 처리하는 서버다.

### 동작 원리

- 클라이언트가 리버스 프록시에 요청
- 리버스 프록시가 백엔드 서버로 요청 전달
- 백엔드 서버의 응답을 클라이언트에게 반환

### 주요 용도

- 로드 밸런싱으로 트래픽 분산
- SSL 종료 처리
- 캐싱으로 성능 개선
- 보안 강화 및 서버 정보 은닉

## Forward Proxy vs Reverse Proxy 비교

### 위치와 역할

- **Forward Proxy**: 클라이언트 측에 위치, 클라이언트를 대리
- **Reverse Proxy**: 서버 측에 위치, 서버를 대리

### 주요 목적

- **Forward Proxy**: 클라이언트 보호, 접근 제어, 캐싱
- **Reverse Proxy**: 서버 보호, 부하 분산, 성능 최적화

### 투명성

- **Forward Proxy**: 서버는 프록시 존재를 모름
- **Reverse Proxy**: 클라이언트는 실제 서버 위치를 모름

## 실제 구현 예시

### 대표적인 도구들

- **Forward Proxy**: Squid, CCProxy, WinGate
- **Reverse Proxy**: Nginx, Apache HTTP Server, HAProxy, Cloudflare

### 설정 예시 (Nginx)

nginx

```kotlin
*# Reverse Proxy 설정*
server {
    listen 80;
    server_name example.com;
    
    location / {
        proxy_pass http://backend_servers;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## 보안 및 성능 고려사항

### 보안 측면

- 프록시 서버 자체의 보안 중요
- 로그 관리 및 모니터링 필수
- SSL/TLS 인증서 관리

### 성능 측면

- 프록시 서버의 처리 능력이 병목점이 될 수 있음
- 캐싱 전략 최적화 필요
- 네트워크 지연 시간 고려

## 전체 요약

프록시 패턴은 객체 간 접근을 제어하는 디자인 패턴으로, 네트워크에서는 Forward Proxy와 Reverse Proxy로 구현된다. Forward Proxy는 클라이언트를 대리하여 익명성과 보안을 제공하고, Reverse Proxy는 서버를 대리하여 부하 분산과 성능 최적화를 담당한다. 두 방식 모두 중간 계층을 통해 추가 기능을 제공하면서 시스템의 보안성과 효율성을 향상시킨다.
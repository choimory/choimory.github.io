---
title: "JVM 코드 포매터 알아보기"
date: 2025-09-10T00:00:00
toc: true
toc_sticky: true
categories:
    - 
tags:
    - 
---

# Spotless

- 다양한 포매터(gjf, eclipse formatter 등)와 연동 가능
- 가장 많이 쓰임qq
- Gradle 예시:
    
    ```groovy
    plugins {
        id("com.diffplug.spotless") version "6.25.0"
    }
    
    spotless {
        java {
            googleJavaFormat("1.17.0")
            target("src/**/*.java")
        }
    }
    ```
    
    - 가장 많이 쓰는 구글 포맷인데 계단이 너무 심해서 별로임
    
    ```groovy
    plugins {
        id("com.diffplug.spotless") version "6.25.0"
    }
    
    spotless {
        java {
            target 'src/**/*.java'
            palantirJavaFormat()
            removeUnusedImports()
            endWithNewline()
        }
    }
    ```
    
    - 팔란티어가 훨씬 보기 좋음
    - 팔란티어는 *.gradle, *.yml은 미지원이며 java 파일만 지원함
- 명령어:
    - 포맷 적용: `./gradlew spotlessApply`
    - 포맷 검증: `./gradlew spotlessCheck`

# Ktlint

- Kotlin 공식 코드스타일에 맞춘 정적 분석 + 포매팅 도구
- CLI / Gradle / Git hook / IDE 플러그인 등 다양하게 연동 가능
- Gradle 사용법 (Kotlin DSL 예시):
    
    ```kotlin
    plugins {
        id("org.jlleitschuh.gradle.ktlint") version "12.1.0"
    }
    ```
    
- .editorconfig
    
    ```bash
    [*.kt]
    indent_size=4
    insert_final_newline=true
    end_of_line=lf
    ```
    
    - ktlint는 루트 디렉토리에 .editorconfig를 자동인식함
- 명령어
    - 포맷 적용: `./gradlew ktlintFormant`
    - 포맷 검증: `./gradlew ktlintCheck`

# Spotless + ktlint

- Spotless는 멀티랭귀지 코드 포매터이며, `ktlint`를 Kotlin용으로 래핑함
- Gradle 예시:
    
    ```kotlin
    plugins {
        id("com.diffplug.spotless") version "6.25.0" // 최신 버전 확인 권장
    }
    
    spotless {
        kotlin {
            target("src/**/*.kt")
            ktlint("1.2.1") // 원하는 버전 지정
            trimTrailingWhitespace()
            indentWithSpaces(4)
            endWithNewline()
        }
    
        kotlinGradle {
            target("*.gradle.kts")
            ktlint("1.2.1")
        }
    }
    ```
    
    - build.gradle
    
    ```bash
    [*.kt]
    indent_size=4
    insert_final_newline=true
    end_of_line=lf
    ```
    
    - .editorconfig
- 명령어:
    - 포맷 적용: `./gradlew spotlessApply`
    - 포맷 검증: `./gradlew spotlessCheck`
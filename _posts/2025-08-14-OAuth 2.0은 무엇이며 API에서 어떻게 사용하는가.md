---
title: "OAuth 2.0은 무엇이며 API에서 어떻게 사용하는가"
date: 2025-08-14T00:00:00
toc: true
toc_sticky: true
categories:
    - Back-end
tags:
    - OAuth
    - Auth
---

# Intro

- OAuth 2.0은 인증(Authentication)과 권한 부여(Authorization)를 위한 개방형 표준 프로토콜이다.
- 주로 애플리케이션이 사용자 자격 증명을 저장하지 않고, 사용자가 제3자 서비스(예: Google, Facebook)를 통해 안전하게 리소스에 접근할 수 있도록 한다.
- API에서 OAuth 2.0은 인증된 사용자나 애플리케이션이 권한을 부여받아 자원에 접근할 수 있도록 하는 방식으로 활용된다.

---

# OAuth 2.0의 주요 개념

## **리소스 소유자 (Resource Owner)**

- 보호된 자원의 소유자(예: 사용자).

## **클라이언트 (Client)**

- 리소스 소유자의 권한으로 보호된 자원에 접근하려는 애플리케이션.

## **리소스 서버 (Resource Server)**

- 보호된 자원이 저장된 서버. API 서버가 해당 역할을 수행.

## **인증 서버 (Authorization Server)**

- 리소스 소유자의 권한을 인증하고, 엑세스 토큰(Access Token)을 발급.

## **엑세스 토큰 (Access Token)**

- 제한된 시간 동안 클라이언트가 리소스에 접근할 수 있도록 허용하는 자격 증명.

---

# OAuth 2.0의 인증 흐름 (Grant Types)

## **Authorization Code Grant**

- 사용자 로그인 후, 인증 서버에서 클라이언트에게 인증 코드를 제공.
- 클라이언트는 이 코드를 사용해 엑세스 토큰을 요청.
- 보안성이 높아 일반적으로 가장 많이 사용됨.

**예시**

```markdown
1. 사용자 → 클라이언트: 인증 요청
2. 클라이언트 → 인증 서버: 인증 코드 요청
3. 인증 서버 → 클라이언트: 인증 코드 반환
4. 클라이언트 → 인증 서버: 엑세스 토큰 요청 (인증 코드 사용)
5. 인증 서버 → 클라이언트: 엑세스 토큰 반환
```

## **Implicit Grant**

- 인증 코드 단계 없이, 브라우저에서 직접 엑세스 토큰을 발급받음.
- 보안성이 낮아 사용이 권장되지 않음.

## **Resource Owner Password Credentials Grant**

- 사용자가 클라이언트에 직접 자격 증명(예: ID와 비밀번호)을 제공.
- 클라이언트가 인증 서버에 자격 증명을 전달해 토큰 발급.
- 사용자의 신뢰를 요구하므로 제한된 상황에서만 사용.

## **Client Credentials Grant**

- 클라이언트가 애플리케이션 자체의 자격 증명을 사용해 인증.
- 사용자 개입 없이 서버 간 통신에 적합.

---

# OAuth 2.0의 API 활용

## **API 요청 시 엑세스 토큰 사용**

- 클라이언트는 인증 서버에서 발급받은 엑세스 토큰을 HTTP 요청 헤더에 포함.

```makefile
Authorization: Bearer <Access_Token>
```

## **토큰 유효성 검증**

- API 서버는 엑세스 토큰의 유효성을 확인해 요청을 처리.

## **리프레시 토큰 활용**

- 엑세스 토큰이 만료되면, 리프레시 토큰을 사용해 새 엑세스 토큰 발급.

---

# 장점

## **보안 강화**

- 사용자의 자격 증명을 직접 저장하지 않아 보안 위험 감소.

## **확장성**

- 다양한 인증 서비스와 통합 가능.

## **유연성**

- 다양한 인증 흐름(Grant Type) 지원.

---

# 단점

## **구현 복잡성**

- 인증 서버와 클라이언트 간의 동작을 설계 및 구현해야 함.

## **추가 의존성**

- 외부 인증 서버와의 통합이 필요.

---

# 실용적인 사용 사례

## **소셜 로그인**

- 사용자가 Google, Facebook 등의 계정을 통해 서비스에 로그인.

## **API 기반 애플리케이션**

- 서버 간 데이터 교환 시 엑세스 토큰을 사용해 인증 및 권한 부여.

## **제3자 서비스 데이터 접근**

- 클라이언트가 사용자 동의를 얻어 Google Drive, Dropbox 등의 자원에 접근.

---

# **요약**

- OAuth 2.0은 보안과 유연성을 제공하는 인증 및 권한 부여 프로토콜이다.
- 클라이언트는 인증 서버에서 엑세스 토큰을 발급받아 API 서버에 안전하게 요청을 처리하며, 소셜 로그인, 서버 간 통신 등 다양한 시나리오에서 활용된다.
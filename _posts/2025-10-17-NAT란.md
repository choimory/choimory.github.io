---
title: "NAT란"
date: 2025-10-17T00:00:00
toc: true
toc_sticky: true
categories:
    - CS
tags:
    - Network
---

# Intro

- *NAT(Network Address Translation)*은 **네트워크 주소 변환** 기술
- **내부 네트워크의 사설 IP 주소를 공인 IP 주소로 변환**하여 인터넷과의 통신을 가능하게 해주는 방식이다.
- NAT는 **IP 주소 부족 문제**를 해결하고, 네트워크 보안을 강화하며, 여러 장치가 하나의 공인 IP 주소를 통해 외부 네트워크와 통신할 수 있게 한다.

---

# NAT의 주요 역할과 기능

## **사설 IP 주소와 공인 IP 주소 간의 변환**:

- **사설 IP 주소**는 가정이나 기업의 내부 네트워크에서 사용되는 주소이며, 인터넷에서는 사용할 수 없다.
- 반면, **공인 IP 주소**는 인터넷 상에서 통신하기 위해 필요하다.
- NAT는 내부 네트워크의 장치들이 사설 IP 주소를 사용하더라도, 외부 네트워크와 통신할 때는 **하나의 공인 IP 주소**로 변환해 준다.

## **IP 주소 부족 문제 해결**:

- IPv4 주소는 32비트로 구성되어 있어, 전 세계적으로 할당 가능한 주소의 수가 한정되어 있다.
- NAT는 하나의 공인 IP 주소로 다수의 장치가 인터넷에 연결될 수 있게 함으로써 **IP 주소 부족 문제**를 해결한다.
- 예를 들어, 가정 내에서 여러 디바이스(스마트폰, 노트북, PC 등)가 각각 사설 IP 주소를 사용하고 있지만, 외부로 나갈 때는 공유기의 공인 IP 주소를 사용하여 인터넷에 접속할 수 있다.

## **보안 강화**:

- NAT는 외부 네트워크에서 **내부 네트워크의 사설 IP 주소를 숨겨** 보안을 강화하는 역할을 한다.
- 외부에서 직접 사설 IP 주소에 접근할 수 없기 때문에, 내부 네트워크를 보호하는 기능을 제공한다.
- 또한, 외부에서 내부 네트워크의 특정 장치로 접근할 수 없기 때문에 보안에 있어 **방화벽**의 역할도 겸할 수 있다.

---

# NAT의 종류

## **Static NAT (정적 NAT)**:

- 하나의 사설 IP 주소를 하나의 공인 IP 주소에 **고정적으로** 매핑하는 방식이다.
- 주로 고정된 IP 주소가 필요한 서버 같은 장치에 사용된다.
- 예를 들어, 특정 내부 서버가 항상 동일한 공인 IP 주소를 사용하도록 설정하는 경우에 사용된다.

## **Dynamic NAT (동적 NAT)**:

- 사설 IP 주소를 **동적으로** 공인 IP 주소에 매핑하는 방식이다.
- NAT는 사용 가능한 공인 IP 주소 목록에서 사설 IP 주소를 할당받아 통신을 수행한다.
- 공인 IP 주소가 제한되어 있는 상황에서, 동적으로 공인 IP 주소를 할당하여 여러 장치가 인터넷에 접속할 수 있도록 한다.

## **PAT (Port Address Translation)** 또는 **NAT Overload**:

- NAT의 한 유형으로, 여러 사설 IP 주소가 **하나의 공인 IP 주소**를 공유할 수 있도록 하는 방식이다.
- 각각의 사설 IP 주소는 서로 다른 **포트 번호**로 구분되어 공인 IP 주소를 통해 인터넷과 통신한다.
- 이는 가정이나 소규모 네트워크에서 자주 사용되며, NAT Overload라고도 불린다.
- 하나의 공인 IP 주소로 다수의 장치가 동시에 인터넷을 사용할 수 있다.

---

# NAT가 해결해주는 문제

## **IPv4 주소 부족 문제**:

- IPv4 주소는 한정되어 있으며, 전 세계적으로 모든 장치에 공인 IP 주소를 할당하기에는 충분하지 않다.
- NAT는 내부 네트워크에 사설 IP 주소를 사용하게 하고, 외부로 나갈 때만 공인 IP 주소를 필요로 하게 함으로써 **IPv4 주소 부족 문제**를 완화한다.

## **내부 네트워크 보안**:

- NAT는 외부에서 내부 네트워크의 사설 IP 주소를 **직접 볼 수 없게 숨겨** 주기 때문에, 내부 네트워크를 보호하는 데 기여한다.
- 외부에서 특정 장치에 접근하려면 별도의 포트 포워딩 설정 등이 필요하다.

## **다수의 장치가 하나의 공인 IP 주소 사용**:

- NAT는 여러 장치가 하나의 공인 IP 주소를 통해 인터넷에 접속할 수 있도록 하여, 공인 IP 주소를 절약하면서도 여러 장치의 인터넷 연결을 가능하게 한다.
- 이를 통해 하나의 네트워크에서 다수의 장치가 공인 IP 주소를 공유할 수 있다.

---

# NAT의 동작 과정 예시 (NAT Overload)

## **1.내부 장치에서 외부로 요청**:

- 내부 네트워크의 컴퓨터(사설 IP 주소: 192.168.0.2)가 웹사이트(예: 8.8.8.8)에 접속하려고 한다.
- 이때, NAT는 사설 IP 주소 `192.168.0.2`와 포트 번호를 이용해 공인 IP 주소(예: 203.0.113.1)와 새로운 포트 번호를 매핑한다.

## **2.인터넷으로 요청 전송**:

- 변환된 공인 IP 주소와 포트 번호로 인터넷에 요청이 전송된다.

## **3.응답 수신 및 역변환**:

- 웹 서버가 응답을 보내면, NAT는 공인 IP 주소와 포트 번호를 보고 해당 패킷을 내부 장치의 사설 IP 주소 `192.168.0.2`로 변환해 전달한다.

---

# 결론

- NAT는 **IP 주소 부족 문제**를 해결하고, **보안을 강화**하며, 여러 장치가 하나의 공인 IP 주소를 공유할 수 있도록 해준다
- 특히 IPv4 주소가 부족한 상황에서 사설 IP 주소와 공인 IP 주소 간의 변환을 통해 네트워크 자원을 효율적으로 활용할 수 있게 한다.